on:
    workflow_dispatch:
    pull_request:
    push:
      branches:    
        - main
  
name: Check docker-compose for updates

jobs:
    check_modified_compose_files:
        name: check docker-compose files
        runs-on: ubuntu-latest
        steps:
          - run: |
                  check_diff() {
                    echo $(git diff --name-only main...HEAD | grep -E  'READ[A-Za-z0-9.-]+.md' | wc -l)    
                  }
                  
                  if [ "$(check_diff)" -eq 0 ]; then
                    exit 0
                  else
                    echo "Do not modify docker-compose files" && exit 1
                  fi    
